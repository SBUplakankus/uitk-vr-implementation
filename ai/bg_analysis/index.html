
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sbuplakankus.github.io/uitk-vr-implementation/ai/bg_analysis/">
      
      
        <link rel="prev" href="../../research/web_to_uss/">
      
      
        <link rel="next" href="../industry_uitk/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/tablet.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Bagel Game Analysis - UITK Implementation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#unity-bagel-game-complete-ui-toolkit-analysis" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="UITK Implementation" class="md-header__button md-logo" aria-label="UITK Implementation" data-md-component="logo">
      
  <img src="../../assets/images/tablet.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UITK Implementation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bagel Game Analysis
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4m0-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/SBUplakankus/uitk-vr-implementation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="UITK Implementation" class="md-nav__button md-logo" aria-label="UITK Implementation" data-md-component="logo">
      
  <img src="../../assets/images/tablet.svg" alt="logo">

    </a>
    UITK Implementation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/SBUplakankus/uitk-vr-implementation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/uitk_refs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Unity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Research
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Research
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research/shader_graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shader Graph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research/vr_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VR Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research/web_to_uss/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web To USS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    AI Docs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    AI Docs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Bagel Game Analysis
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Bagel Game Analysis
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table of Contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-project-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Project Overview
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Project Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-bagel-game-demonstrates" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Bagel Game Demonstrates
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technology-stack" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technology Stack
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-ui-toolkit-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. UI Toolkit Architecture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. UI Toolkit Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-document-structure-uxml" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Document Structure (UXML)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-stylesheet-system-uss" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Stylesheet System (USS)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-c-document-controller" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 C# Document Controller
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-data-binding-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Data Binding System
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Data Binding System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-unity-6-runtime-data-binding" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 Unity 6 Runtime Data Binding
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-binding-in-uxml" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Binding in UXML
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-advanced-binding-with-value-converters" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 Advanced Binding with Value Converters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-two-way-binding-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4 Two-Way Binding Pattern
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-shader-graph-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Shader Graph Integration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Shader Graph Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-custom-shader-graph-for-ui" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Custom Shader Graph for UI
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-procedural-ui-shapes-with-shader-graph" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Procedural UI Shapes with Shader Graph
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-animated-shader-effects" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 Animated Shader Effects
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-world-space-ui" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. World Space UI
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. World Space UI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-panel-settings-for-world-space" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Panel Settings for World Space
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-quest-2-vr-world-space-ui" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 Quest 2 VR World Space UI
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-vr-interaction-with-ui-toolkit" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3 VR Interaction with UI Toolkit
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-theme-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Theme System
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Theme System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-dynamic-theme-switching" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 Dynamic Theme Switching
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-uss-variable-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 USS Variable Update
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-input-system-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Input System Integration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Input System Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-new-input-system-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 New Input System Setup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-gamepadcontroller-navigation" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 Gamepad/Controller Navigation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-performance-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Performance Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Performance Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-object-pooling-for-ui-elements" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.1 Object Pooling for UI Elements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-uss-optimization-for-quest-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.2 USS Optimization for Quest 2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-efficient-data-binding-updates" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.3 Efficient Data Binding Updates
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-code-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Code Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Code Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-complete-main-menu-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.1 Complete Main Menu Implementation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-hud-with-live-data-binding" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.2 HUD with Live Data Binding
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-quest-2-vr-adaptation" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Quest 2 VR Adaptation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Quest 2 VR Adaptation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-considerations-for-quest-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Considerations for Quest 2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimized-vr-ui-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Optimized VR UI Setup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-optimized-uss-for-quest-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance-Optimized USS for Quest 2
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary &amp; Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Summary &amp; Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture Takeaways
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quest-2-optimization-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quest 2 Optimization Checklist
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resources
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../industry_uitk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Industry UITK Practices
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../layer_architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Layer Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table of Contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-project-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Project Overview
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Project Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-bagel-game-demonstrates" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Bagel Game Demonstrates
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technology-stack" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technology Stack
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-ui-toolkit-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. UI Toolkit Architecture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. UI Toolkit Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-document-structure-uxml" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Document Structure (UXML)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-stylesheet-system-uss" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Stylesheet System (USS)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-c-document-controller" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 C# Document Controller
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-data-binding-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Data Binding System
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Data Binding System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-unity-6-runtime-data-binding" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 Unity 6 Runtime Data Binding
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-binding-in-uxml" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Binding in UXML
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-advanced-binding-with-value-converters" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 Advanced Binding with Value Converters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-two-way-binding-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4 Two-Way Binding Pattern
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-shader-graph-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Shader Graph Integration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Shader Graph Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-custom-shader-graph-for-ui" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Custom Shader Graph for UI
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-procedural-ui-shapes-with-shader-graph" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Procedural UI Shapes with Shader Graph
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-animated-shader-effects" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 Animated Shader Effects
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-world-space-ui" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. World Space UI
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. World Space UI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-panel-settings-for-world-space" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Panel Settings for World Space
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-quest-2-vr-world-space-ui" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 Quest 2 VR World Space UI
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-vr-interaction-with-ui-toolkit" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3 VR Interaction with UI Toolkit
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-theme-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Theme System
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Theme System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-dynamic-theme-switching" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 Dynamic Theme Switching
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-uss-variable-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 USS Variable Update
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-input-system-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Input System Integration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Input System Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-new-input-system-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 New Input System Setup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-gamepadcontroller-navigation" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 Gamepad/Controller Navigation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-performance-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Performance Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Performance Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-object-pooling-for-ui-elements" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.1 Object Pooling for UI Elements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-uss-optimization-for-quest-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.2 USS Optimization for Quest 2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-efficient-data-binding-updates" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.3 Efficient Data Binding Updates
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-code-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Code Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Code Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-complete-main-menu-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.1 Complete Main Menu Implementation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-hud-with-live-data-binding" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.2 HUD with Live Data Binding
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-quest-2-vr-adaptation" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Quest 2 VR Adaptation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Quest 2 VR Adaptation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-considerations-for-quest-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Considerations for Quest 2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimized-vr-ui-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Optimized VR UI Setup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-optimized-uss-for-quest-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance-Optimized USS for Quest 2
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary &amp; Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Summary &amp; Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture Takeaways
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quest-2-optimization-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quest 2 Optimization Checklist
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resources
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="unity-bagel-game-complete-ui-toolkit-analysis">Unity Bagel Game - Complete UI Toolkit Analysis</h1>
<blockquote>
<p><strong>Project</strong>: Unity BagelGame Sample (Unity 6.3 LTS)<br />
<strong>Repository</strong>: <a href="https://github.com/Unity-Technologies/BagelGame">Unity-Technologies/BagelGame</a><br />
<strong>Purpose</strong>: Full vertical game demonstrating UI Toolkit for 3D games</p>
</blockquote>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#project-overview">Project Overview</a></li>
<li><a href="#ui-toolkit-architecture">UI Toolkit Architecture</a></li>
<li><a href="#data-binding-system">Data Binding System</a></li>
<li><a href="#shader-graph-integration">Shader Graph Integration</a></li>
<li><a href="#world-space-ui">World Space UI</a></li>
<li><a href="#theme-system">Theme System</a></li>
<li><a href="#input-system-integration">Input System Integration</a></li>
<li><a href="#performance-patterns">Performance Patterns</a></li>
<li><a href="#code-examples">Code Examples</a></li>
<li><a href="#quest-2-vr-adaptation">Quest 2 VR Adaptation</a></li>
</ol>
<hr />
<h2 id="1-project-overview">1. Project Overview</h2>
<h3 id="what-bagel-game-demonstrates">What Bagel Game Demonstrates</h3>
<p><strong>Core Features</strong>:
- <strong>World Space UI</strong>: UI canvases positioned in 3D game space
- <strong>Custom Shaders</strong>: Shader Graph integration with UI Toolkit
- <strong>Data Bindings</strong>: Runtime data synchronization (Unity 6 feature)
- <strong>StyleSheets (USS)</strong>: Dynamic theming and styling
- <strong>Input System</strong>: New Input System integration
- <strong>UXML Templates</strong>: Reusable UI component templates</p>
<p><strong>Game Concept</strong>: Physics-based bagel navigation game where UI is integrated into the 3D world rather than overlaid on screen.</p>
<h3 id="technology-stack">Technology Stack</h3>
<pre><code>UI Rendering:
├── UI Toolkit (Runtime)
│   ├── UXML (Structure)
│   ├── USS (Styling)
│   └── C# (Logic)
├── Shader Graph (Visual Effects)
└── Unity Input System (Control)
</code></pre>
<hr />
<h2 id="2-ui-toolkit-architecture">2. UI Toolkit Architecture</h2>
<h3 id="21-document-structure-uxml">2.1 Document Structure (UXML)</h3>
<p>UI Toolkit uses UXML (Unity XML) for declarative UI structure, similar to HTML.</p>
<p><strong>Example: Main Menu Structure</strong></p>
<pre><code class="language-xml">&lt;ui:UXML xmlns:ui=&quot;UnityEngine.UIElements&quot; 
         xmlns:uie=&quot;UnityEditor.UIElements&quot;&gt;

    &lt;!-- Root container --&gt;
    &lt;ui:VisualElement name=&quot;MainMenu&quot; class=&quot;menu-root&quot;&gt;

        &lt;!-- Header section --&gt;
        &lt;ui:VisualElement name=&quot;Header&quot; class=&quot;menu-header&quot;&gt;
            &lt;ui:Label text=&quot;BAGEL GAME&quot; class=&quot;title-text&quot; /&gt;
        &lt;/ui:VisualElement&gt;

        &lt;!-- Button container --&gt;
        &lt;ui:VisualElement name=&quot;ButtonContainer&quot; class=&quot;button-group&quot;&gt;
            &lt;ui:Button name=&quot;PlayButton&quot; text=&quot;Play&quot; class=&quot;menu-button&quot; /&gt;
            &lt;ui:Button name=&quot;SettingsButton&quot; text=&quot;Settings&quot; class=&quot;menu-button&quot; /&gt;
            &lt;ui:Button name=&quot;QuitButton&quot; text=&quot;Quit&quot; class=&quot;menu-button&quot; /&gt;
        &lt;/ui:VisualElement&gt;

        &lt;!-- Game stats display --&gt;
        &lt;ui:VisualElement name=&quot;StatsPanel&quot; class=&quot;stats-panel&quot;&gt;
            &lt;ui:Label name=&quot;ScoreLabel&quot; binding-path=&quot;CurrentScore&quot; class=&quot;stat-value&quot; /&gt;
            &lt;ui:Label name=&quot;ToppingsLabel&quot; binding-path=&quot;ToppingsRemaining&quot; class=&quot;stat-value&quot; /&gt;
        &lt;/ui:VisualElement&gt;

    &lt;/ui:VisualElement&gt;
&lt;/ui:UXML&gt;
</code></pre>
<p><strong>Key UXML Concepts</strong>:
- <code>class</code> attribute links to USS styles
- <code>binding-path</code> enables data binding
- <code>name</code> provides C# script access
- Nested hierarchy creates parent-child relationships</p>
<h3 id="22-stylesheet-system-uss">2.2 Stylesheet System (USS)</h3>
<p>USS is Unity's CSS-like styling language for UI Toolkit.</p>
<p><strong>Example: Premium Modern Styling</strong></p>
<pre><code class="language-css">/* ===== ROOT VARIABLES (THEMING) ===== */
:root {
    /* Color palette */
    --primary-color: rgb(138, 43, 226);
    --secondary-color: rgb(0, 217, 255);
    --bg-dark: rgb(10, 10, 15);
    --bg-mid: rgb(20, 20, 30);

    /* Gradient colors */
    --glow-purple: rgba(138, 43, 226, 0.4);
    --glow-cyan: rgba(0, 217, 255, 0.3);
    --glow-pink: rgba(255, 71, 133, 0.25);

    /* Spacing */
    --spacing-small: 8px;
    --spacing-medium: 16px;
    --spacing-large: 32px;

    /* Animation */
    --transition-speed: 0.3s;
}

/* ===== LAYOUT CONTAINERS ===== */
.menu-root {
    flex-grow: 1;
    background-image: 
        radial-gradient(circle at 20% 30%, var(--glow-purple) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, var(--glow-cyan) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 100%, var(--bg-mid) 0%, var(--bg-dark) 100%);
    padding: var(--spacing-large);
}

.menu-header {
    align-items: center;
    justify-content: center;
    margin-bottom: var(--spacing-large);
}

/* ===== TEXT STYLES ===== */
.title-text {
    font-size: 72px;
    color: rgb(255, 255, 255);
    -unity-font-style: bold;
    text-shadow: 0px 4px 20px var(--glow-cyan);
    -unity-text-align: middle-center;
}

.stat-value {
    font-size: 24px;
    color: var(--secondary-color);
    -unity-font-style: bold;
}

/* ===== BUTTON STYLES ===== */
.menu-button {
    min-width: 200px;
    min-height: 60px;
    margin: var(--spacing-small);

    /* Modern glass morphism effect */
    background-color: rgba(255, 255, 255, 0.05);
    border-width: 2px;
    border-color: rgba(255, 255, 255, 0.1);
    border-radius: 12px;

    /* Text styling */
    font-size: 20px;
    color: rgb(255, 255, 255);
    -unity-font-style: bold;

    /* Transition */
    transition-property: background-color, border-color, scale;
    transition-duration: var(--transition-speed);
}

/* Button hover state */
.menu-button:hover {
    background-color: rgba(255, 255, 255, 0.12);
    border-color: var(--secondary-color);
    scale: 1.05;
}

/* Button active/pressed state */
.menu-button:active {
    background-color: rgba(0, 217, 255, 0.2);
    scale: 0.98;
}

/* ===== STATS PANEL ===== */
.stats-panel {
    flex-direction: row;
    justify-content: space-between;
    padding: var(--spacing-medium);

    background-image: radial-gradient(
        circle at 50% 50%, 
        rgba(255, 255, 255, 0.08), 
        transparent
    );
    border-radius: 16px;
    border-width: 1px;
    border-color: rgba(255, 255, 255, 0.1);
}
</code></pre>
<p><strong>USS Features Used</strong>:
- CSS variables (<code>:root</code>)
- Radial gradients for modern web aesthetic
- Flexbox layout (<code>flex-direction</code>, <code>justify-content</code>)
- Pseudo-classes (<code>:hover</code>, <code>:active</code>)
- Transitions for smooth animations
- Border radius for rounded corners</p>
<h3 id="23-c-document-controller">2.3 C# Document Controller</h3>
<p><strong>Example: MenuController.cs</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;

public class MenuController : MonoBehaviour
{
    [SerializeField] private UIDocument _uiDocument;

    // Root visual element
    private VisualElement _root;

    // UI element references
    private Button _playButton;
    private Button _settingsButton;
    private Button _quitButton;

    private Label _scoreLabel;
    private Label _toppingsLabel;

    // Game data reference
    [SerializeField] private GameData _gameData;

    private void OnEnable()
    {
        // Get root from UI Document
        _root = _uiDocument.rootVisualElement;

        // Query elements by name
        _playButton = _root.Q&lt;Button&gt;(&quot;PlayButton&quot;);
        _settingsButton = _root.Q&lt;Button&gt;(&quot;SettingsButton&quot;);
        _quitButton = _root.Q&lt;Button&gt;(&quot;QuitButton&quot;);

        _scoreLabel = _root.Q&lt;Label&gt;(&quot;ScoreLabel&quot;);
        _toppingsLabel = _root.Q&lt;Label&gt;(&quot;ToppingsLabel&quot;);

        // Register button callbacks
        _playButton.clicked += OnPlayClicked;
        _settingsButton.clicked += OnSettingsClicked;
        _quitButton.clicked += OnQuitClicked;

        // Setup data binding
        SetupDataBinding();
    }

    private void OnDisable()
    {
        // Unregister callbacks to prevent memory leaks
        _playButton.clicked -= OnPlayClicked;
        _settingsButton.clicked -= OnSettingsClicked;
        _quitButton.clicked -= OnQuitClicked;
    }

    private void SetupDataBinding()
    {
        // Bind to serialized object (Unity 6 feature)
        var so = new SerializedObject(_gameData);
        _root.Bind(so);
    }

    private void OnPlayClicked()
    {
        Debug.Log(&quot;Play button clicked!&quot;);
        // Load game scene
    }

    private void OnSettingsClicked()
    {
        Debug.Log(&quot;Settings button clicked!&quot;);
        // Show settings panel
    }

    private void OnQuitClicked()
    {
        Application.Quit();
    }
}
</code></pre>
<p><strong>Key C# Patterns</strong>:
- <code>UIDocument</code> component provides access to UXML
- <code>Q&lt;T&gt;()</code> queries elements by name and type
- Event registration with <code>clicked +=</code>
- Proper cleanup in <code>OnDisable()</code></p>
<hr />
<h2 id="3-data-binding-system">3. Data Binding System</h2>
<h3 id="31-unity-6-runtime-data-binding">3.1 Unity 6 Runtime Data Binding</h3>
<p>Unity 6 introduces runtime data binding for UI Toolkit, allowing automatic synchronization between data and UI.</p>
<p><strong>Example: Game Data ScriptableObject</strong></p>
<pre><code class="language-csharp">using UnityEngine;

[CreateAssetMenu(fileName = &quot;GameData&quot;, menuName = &quot;Game/GameData&quot;)]
public class GameData : ScriptableObject
{
    [SerializeField] private int _currentScore;
    [SerializeField] private int _toppingsRemaining;
    [SerializeField] private float _timeRemaining;
    [SerializeField] private bool _isPaused;

    // Properties with change notifications
    public int CurrentScore
    {
        get =&gt; _currentScore;
        set
        {
            if (_currentScore != value)
            {
                _currentScore = value;
                // Serialization system will notify bound UI
            }
        }
    }

    public int ToppingsRemaining
    {
        get =&gt; _toppingsRemaining;
        set
        {
            if (_toppingsRemaining != value)
            {
                _toppingsRemaining = value;
            }
        }
    }

    public float TimeRemaining
    {
        get =&gt; _timeRemaining;
        set
        {
            if (!Mathf.Approximately(_timeRemaining, value))
            {
                _timeRemaining = value;
            }
        }
    }

    public bool IsPaused
    {
        get =&gt; _isPaused;
        set
        {
            if (_isPaused != value)
            {
                _isPaused = value;
            }
        }
    }
}
</code></pre>
<h3 id="32-binding-in-uxml">3.2 Binding in UXML</h3>
<pre><code class="language-xml">&lt;ui:UXML xmlns:ui=&quot;UnityEngine.UIElements&quot;&gt;
    &lt;ui:VisualElement name=&quot;HUD&quot;&gt;

        &lt;!-- Direct binding to serialized property --&gt;
        &lt;ui:Label name=&quot;ScoreLabel&quot; 
                  binding-path=&quot;CurrentScore&quot; 
                  class=&quot;hud-value&quot; /&gt;

        &lt;!-- Binding with format string --&gt;
        &lt;ui:Label name=&quot;ToppingsLabel&quot; 
                  binding-path=&quot;ToppingsRemaining&quot;
                  class=&quot;hud-value&quot; /&gt;

        &lt;!-- Progress bar binding --&gt;
        &lt;ui:ProgressBar name=&quot;TimeBar&quot; 
                        binding-path=&quot;TimeRemaining&quot;
                        low-value=&quot;0&quot;
                        high-value=&quot;100&quot;
                        class=&quot;time-progress&quot; /&gt;

        &lt;!-- Toggle binding --&gt;
        &lt;ui:Toggle name=&quot;PauseToggle&quot; 
                   binding-path=&quot;IsPaused&quot;
                   label=&quot;Paused&quot; /&gt;

    &lt;/ui:VisualElement&gt;
&lt;/ui:UXML&gt;
</code></pre>
<h3 id="33-advanced-binding-with-value-converters">3.3 Advanced Binding with Value Converters</h3>
<p><strong>Example: Custom Value Converter</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;

// Convert score int to formatted string
public class ScoreToStringConverter : UxmlAttributeConverter&lt;int, string&gt;
{
    public override string FromAttribute(int value)
    {
        return $&quot;Score: {value:N0}&quot;;
    }
}

// Convert time to MM:SS format
public class TimeToStringConverter : UxmlAttributeConverter&lt;float, string&gt;
{
    public override string FromAttribute(float value)
    {
        int minutes = Mathf.FloorToInt(value / 60f);
        int seconds = Mathf.FloorToInt(value % 60f);
        return $&quot;{minutes:00}:{seconds:00}&quot;;
    }
}
</code></pre>
<p><strong>Using Converters in C#</strong></p>
<pre><code class="language-csharp">public class HUDController : MonoBehaviour
{
    [SerializeField] private UIDocument _uiDocument;
    [SerializeField] private GameData _gameData;

    private Label _scoreLabel;
    private Label _timeLabel;

    private void OnEnable()
    {
        var root = _uiDocument.rootVisualElement;

        // Get labels
        _scoreLabel = root.Q&lt;Label&gt;(&quot;ScoreLabel&quot;);
        _timeLabel = root.Q&lt;Label&gt;(&quot;TimeLabel&quot;);

        // Setup binding with SerializedObject
        var so = new SerializedObject(_gameData);

        // Bind with property tracking
        root.TrackPropertyValue(so.FindProperty(&quot;_currentScore&quot;), property =&gt;
        {
            _scoreLabel.text = $&quot;Score: {_gameData.CurrentScore:N0}&quot;;
        });

        root.TrackPropertyValue(so.FindProperty(&quot;_timeRemaining&quot;), property =&gt;
        {
            int minutes = Mathf.FloorToInt(_gameData.TimeRemaining / 60f);
            int seconds = Mathf.FloorToInt(_gameData.TimeRemaining % 60f);
            _timeLabel.text = $&quot;{minutes:00}:{seconds:00}&quot;;
        });

        // Bind entire object
        root.Bind(so);
    }
}
</code></pre>
<h3 id="34-two-way-binding-pattern">3.4 Two-Way Binding Pattern</h3>
<p><strong>Example: Settings Panel with Two-Way Binding</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;

public class SettingsController : MonoBehaviour
{
    [SerializeField] private UIDocument _uiDocument;
    [SerializeField] private GameSettings _settings;

    private Slider _volumeSlider;
    private Slider _sensitivitySlider;
    private Toggle _invertYToggle;

    private void OnEnable()
    {
        var root = _uiDocument.rootVisualElement;

        // Get elements
        _volumeSlider = root.Q&lt;Slider&gt;(&quot;VolumeSlider&quot;);
        _sensitivitySlider = root.Q&lt;Slider&gt;(&quot;SensitivitySlider&quot;);
        _invertYToggle = root.Q&lt;Toggle&gt;(&quot;InvertYToggle&quot;);

        // Bind to SerializedObject for automatic two-way binding
        var so = new SerializedObject(_settings);
        root.Bind(so);

        // Optional: Manual event handling for immediate feedback
        _volumeSlider.RegisterValueChangedCallback(evt =&gt;
        {
            AudioListener.volume = evt.newValue;
        });
    }
}
</code></pre>
<p><strong>UXML for Settings</strong></p>
<pre><code class="language-xml">&lt;ui:UXML xmlns:ui=&quot;UnityEngine.UIElements&quot;&gt;
    &lt;ui:VisualElement name=&quot;SettingsPanel&quot; class=&quot;settings-container&quot;&gt;

        &lt;ui:Slider name=&quot;VolumeSlider&quot; 
                   binding-path=&quot;_volume&quot;
                   low-value=&quot;0&quot; 
                   high-value=&quot;1&quot;
                   label=&quot;Volume&quot;
                   class=&quot;setting-slider&quot; /&gt;

        &lt;ui:Slider name=&quot;SensitivitySlider&quot; 
                   binding-path=&quot;_sensitivity&quot;
                   low-value=&quot;0.1&quot; 
                   high-value=&quot;2.0&quot;
                   label=&quot;Sensitivity&quot;
                   class=&quot;setting-slider&quot; /&gt;

        &lt;ui:Toggle name=&quot;InvertYToggle&quot; 
                   binding-path=&quot;_invertY&quot;
                   label=&quot;Invert Y-Axis&quot;
                   class=&quot;setting-toggle&quot; /&gt;

    &lt;/ui:VisualElement&gt;
&lt;/ui:UXML&gt;
</code></pre>
<hr />
<h2 id="4-shader-graph-integration">4. Shader Graph Integration</h2>
<h3 id="41-custom-shader-graph-for-ui">4.1 Custom Shader Graph for UI</h3>
<p>UI Toolkit can use Shader Graph shaders applied via custom materials.</p>
<p><strong>Example: Glass Morphism Shader Setup</strong></p>
<p><strong>Shader Graph Node Structure</strong>:</p>
<pre><code>Inputs:
├── Vertex Color (from UI element)
├── UV0 (texture coordinates)
├── Scene Color (for blur effect)
└── Custom Properties (blur intensity, tint color)

Processing:
├── Scene Color Blur (spiral sampling)
├── Gradient Overlay
├── Border Detection
└── Alpha Blending

Output:
└── Fragment (Base Color + Alpha)
</code></pre>
<p><strong>C# Material Controller</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;

public class GlassPanelController : MonoBehaviour
{
    [SerializeField] private UIDocument _uiDocument;
    [SerializeField] private Material _glassMaterial;

    private VisualElement _glassPanel;

    // Shader property IDs (cached for performance)
    private static readonly int BlurIntensity = Shader.PropertyToID(&quot;_BlurIntensity&quot;);
    private static readonly int TintColor = Shader.PropertyToID(&quot;_TintColor&quot;);
    private static readonly int BorderWidth = Shader.PropertyToID(&quot;_BorderWidth&quot;);

    private void OnEnable()
    {
        var root = _uiDocument.rootVisualElement;
        _glassPanel = root.Q&lt;VisualElement&gt;(&quot;GlassPanel&quot;);

        // Apply custom material to element
        ApplyGlassMaterial();
    }

    private void ApplyGlassMaterial()
    {
        // Create material instance (important for runtime modification)
        var materialInstance = new Material(_glassMaterial);

        // Set initial properties
        materialInstance.SetFloat(BlurIntensity, 0.5f);
        materialInstance.SetColor(TintColor, new Color(1f, 1f, 1f, 0.1f));
        materialInstance.SetFloat(BorderWidth, 2f);

        // Apply to visual element via inline style
        _glassPanel.style.unityBackgroundImageTintColor = Color.white;

        // For custom shader, use experimental API
        _glassPanel.experimental.SetMaterial(materialInstance);
    }

    // Runtime shader parameter update
    public void SetBlurIntensity(float intensity)
    {
        var material = _glassPanel.experimental.GetMaterial();
        if (material != null)
        {
            material.SetFloat(BlurIntensity, intensity);
        }
    }
}
</code></pre>
<h3 id="42-procedural-ui-shapes-with-shader-graph">4.2 Procedural UI Shapes with Shader Graph</h3>
<p><strong>Example: Rounded Rectangle Button Shader</strong></p>
<p><strong>Shader Properties</strong>:</p>
<pre><code class="language-hlsl">// Properties exposed in Shader Graph
Properties
{
    _MainColor (&quot;Main Color&quot;, Color) = (1, 1, 1, 1)
    _BorderColor (&quot;Border Color&quot;, Color) = (0.8, 0.8, 0.8, 1)
    _BorderWidth (&quot;Border Width&quot;, Float) = 2.0
    _CornerRadius (&quot;Corner Radius&quot;, Float) = 12.0
    _GlowIntensity (&quot;Glow Intensity&quot;, Float) = 0.0
}
</code></pre>
<p><strong>USS Integration</strong></p>
<pre><code class="language-css">.glass-panel {
    width: 400px;
    height: 300px;

    /* Material application happens in C# */
    /* USS handles layout and base properties */
    border-radius: 16px;
    padding: 20px;
}

/* Hover effect triggers shader parameter change */
.glass-panel:hover {
    /* Handled via C# callback */
}
</code></pre>
<h3 id="43-animated-shader-effects">4.3 Animated Shader Effects</h3>
<p><strong>Example: Pulsing Glow Effect</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;

public class AnimatedGlowController : MonoBehaviour
{
    [SerializeField] private UIDocument _uiDocument;
    [SerializeField] private Material _glowMaterial;

    private VisualElement _glowElement;
    private Material _materialInstance;

    private static readonly int GlowIntensity = Shader.PropertyToID(&quot;_GlowIntensity&quot;);

    [SerializeField] private float _pulseSpeed = 2f;
    [SerializeField] private float _minIntensity = 0.2f;
    [SerializeField] private float _maxIntensity = 1.0f;

    private void OnEnable()
    {
        var root = _uiDocument.rootVisualElement;
        _glowElement = root.Q&lt;VisualElement&gt;(&quot;GlowButton&quot;);

        _materialInstance = new Material(_glowMaterial);
        _glowElement.experimental.SetMaterial(_materialInstance);
    }

    private void Update()
    {
        if (_materialInstance != null)
        {
            // Pulsing animation using sine wave
            float intensity = Mathf.Lerp(
                _minIntensity,
                _maxIntensity,
                (Mathf.Sin(Time.time * _pulseSpeed) + 1f) * 0.5f
            );

            _materialInstance.SetFloat(GlowIntensity, intensity);
        }
    }

    private void OnDisable()
    {
        // Clean up material instance
        if (_materialInstance != null)
        {
            Destroy(_materialInstance);
        }
    }
}
</code></pre>
<hr />
<h2 id="5-world-space-ui">5. World Space UI</h2>
<h3 id="51-panel-settings-for-world-space">5.1 Panel Settings for World Space</h3>
<p><strong>Example: WorldSpaceUISetup.cs</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;

[RequireComponent(typeof(UIDocument))]
public class WorldSpaceUISetup : MonoBehaviour
{
    [SerializeField] private Camera _targetCamera;
    [SerializeField] private float _distanceFromCamera = 5f;
    [SerializeField] private Vector2 _panelSize = new Vector2(1920, 1080);

    private UIDocument _uiDocument;
    private PanelSettings _panelSettings;

    private void Awake()
    {
        _uiDocument = GetComponent&lt;UIDocument&gt;();

        // Create PanelSettings asset at runtime
        SetupWorldSpacePanel();
    }

    private void SetupWorldSpacePanel()
    {
        // Create new PanelSettings
        _panelSettings = ScriptableObject.CreateInstance&lt;PanelSettings&gt;();

        // Configure for world space
        _panelSettings.targetDisplay = 0;
        _panelSettings.clearDepthStencil = false;
        _panelSettings.sortingOrder = 0;

        // Set render mode to World Space
        _panelSettings.SetScreenToPanelSpaceFunction((screenPosition) =&gt;
        {
            // Convert screen position to world space panel position
            Ray ray = _targetCamera.ScreenPointToRay(screenPosition);
            Plane panelPlane = new Plane(-transform.forward, transform.position);

            if (panelPlane.Raycast(ray, out float distance))
            {
                Vector3 worldPoint = ray.GetPoint(distance);
                Vector3 localPoint = transform.InverseTransformPoint(worldPoint);

                // Convert to panel coordinates
                float u = (localPoint.x / transform.localScale.x + 0.5f) * _panelSize.x;
                float v = (-localPoint.y / transform.localScale.y + 0.5f) * _panelSize.y;

                return new Vector2(u, v);
            }

            return screenPosition;
        });

        // Apply to UI Document
        _uiDocument.panelSettings = _panelSettings;
    }

    private void Update()
    {
        // Optional: Make panel face camera
        transform.LookAt(_targetCamera.transform);
        transform.Rotate(0, 180, 0); // Flip to face camera
    }
}
</code></pre>
<h3 id="52-quest-2-vr-world-space-ui">5.2 Quest 2 VR World Space UI</h3>
<p><strong>Example: VR UI Panel for Meta Quest</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;

public class VRWorldSpaceUI : MonoBehaviour
{
    [Header(&quot;VR Settings&quot;)]
    [SerializeField] private Camera _vrCamera; // Center eye camera
    [SerializeField] private float _uiDistance = 2.5f;
    [SerializeField] private float _uiScale = 0.001f; // Scaling for comfortable viewing

    [Header(&quot;UI Settings&quot;)]
    [SerializeField] private UIDocument _uiDocument;
    [SerializeField] private Vector2 _panelResolution = new Vector2(1920, 1080);

    private PanelSettings _panelSettings;
    private RenderTexture _renderTexture;

    private void Awake()
    {
        SetupVRPanel();
    }

    private void SetupVRPanel()
    {
        // Create render texture for UI
        _renderTexture = new RenderTexture(
            (int)_panelResolution.x,
            (int)_panelResolution.y,
            0,
            RenderTextureFormat.ARGB32
        );
        _renderTexture.Create();

        // Create panel settings
        _panelSettings = ScriptableObject.CreateInstance&lt;PanelSettings&gt;();
        _panelSettings.targetTexture = _renderTexture;
        _panelSettings.clearColor = Color.clear;

        // Apply to UI Document
        _uiDocument.panelSettings = _panelSettings;

        // Create quad mesh for displaying UI in world
        CreateUIQuad();
    }

    private void CreateUIQuad()
    {
        // Create quad mesh
        GameObject quadObject = new GameObject(&quot;UI_Quad&quot;);
        quadObject.transform.SetParent(transform);
        quadObject.transform.localPosition = Vector3.zero;
        quadObject.transform.localRotation = Quaternion.identity;

        // Add mesh components
        MeshFilter meshFilter = quadObject.AddComponent&lt;MeshFilter&gt;();
        MeshRenderer meshRenderer = quadObject.AddComponent&lt;MeshRenderer&gt;();

        // Create quad mesh
        float aspectRatio = _panelResolution.x / _panelResolution.y;
        float width = aspectRatio * _uiScale;
        float height = _uiScale;

        Mesh quadMesh = new Mesh
        {
            vertices = new[]
            {
                new Vector3(-width * 0.5f, -height * 0.5f, 0),
                new Vector3(width * 0.5f, -height * 0.5f, 0),
                new Vector3(width * 0.5f, height * 0.5f, 0),
                new Vector3(-width * 0.5f, height * 0.5f, 0)
            },
            uv = new[]
            {
                new Vector2(0, 0),
                new Vector2(1, 0),
                new Vector2(1, 1),
                new Vector2(0, 1)
            },
            triangles = new[] { 0, 2, 1, 0, 3, 2 }
        };

        quadMesh.RecalculateNormals();
        meshFilter.mesh = quadMesh;

        // Create material with UI texture
        Material uiMaterial = new Material(Shader.Find(&quot;UI/Default&quot;));
        uiMaterial.mainTexture = _renderTexture;
        meshRenderer.material = uiMaterial;
    }

    private void Update()
    {
        // Position UI in front of camera
        Vector3 targetPosition = _vrCamera.transform.position + 
                                 _vrCamera.transform.forward * _uiDistance;
        transform.position = Vector3.Lerp(transform.position, targetPosition, Time.deltaTime * 5f);

        // Face camera
        transform.LookAt(_vrCamera.transform);
        transform.Rotate(0, 180, 0);
    }
}
</code></pre>
<h3 id="53-vr-interaction-with-ui-toolkit">5.3 VR Interaction with UI Toolkit</h3>
<p><strong>Example: Ray Interactor for UI</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;
using UnityEngine.InputSystem;

public class VRUIRayInteractor : MonoBehaviour
{
    [SerializeField] private UIDocument _uiDocument;
    [SerializeField] private Transform _rayOrigin; // Controller transform
    [SerializeField] private LineRenderer _lineRenderer;
    [SerializeField] private float _maxRayDistance = 10f;

    [Header(&quot;Input Actions&quot;)]
    [SerializeField] private InputActionReference _selectAction;

    private VisualElement _currentHoveredElement;
    private Vector2 _currentPanelPosition;

    private void OnEnable()
    {
        _selectAction.action.performed += OnSelectPerformed;
    }

    private void OnDisable()
    {
        _selectAction.action.performed -= OnSelectPerformed;
    }

    private void Update()
    {
        UpdateRaycast();
    }

    private void UpdateRaycast()
    {
        Ray ray = new Ray(_rayOrigin.position, _rayOrigin.forward);

        // Raycast against UI plane
        Plane uiPlane = new Plane(-transform.forward, transform.position);

        if (uiPlane.Raycast(ray, out float distance) &amp;&amp; distance &lt;= _maxRayDistance)
        {
            Vector3 hitPoint = ray.GetPoint(distance);

            // Update line renderer
            _lineRenderer.SetPosition(0, _rayOrigin.position);
            _lineRenderer.SetPosition(1, hitPoint);

            // Convert world hit to panel coordinates
            Vector3 localHit = transform.InverseTransformPoint(hitPoint);
            _currentPanelPosition = WorldToPanel(localHit);

            // Send pointer event to UI
            SimulatePointerMove(_currentPanelPosition);
        }
        else
        {
            // No hit - reset
            _lineRenderer.SetPosition(1, ray.GetPoint(_maxRayDistance));
            SimulatePointerExit();
        }
    }

    private Vector2 WorldToPanel(Vector3 localPosition)
    {
        var panelSettings = _uiDocument.panelSettings;

        // Convert local position to panel coordinates
        float u = (localPosition.x + 0.5f) * panelSettings.targetTexture.width;
        float v = (-localPosition.y + 0.5f) * panelSettings.targetTexture.height;

        return new Vector2(u, v);
    }

    private void SimulatePointerMove(Vector2 panelPosition)
    {
        var root = _uiDocument.rootVisualElement;
        var element = root.panel.Pick(panelPosition);

        // Handle hover state changes
        if (element != _currentHoveredElement)
        {
            // Exit previous element
            if (_currentHoveredElement != null)
            {
                using (var evt = PointerLeaveEvent.GetPooled())
                {
                    evt.target = _currentHoveredElement;
                    _currentHoveredElement.SendEvent(evt);
                }
            }

            // Enter new element
            if (element != null)
            {
                using (var evt = PointerEnterEvent.GetPooled())
                {
                    evt.target = element;
                    element.SendEvent(evt);
                }
            }

            _currentHoveredElement = element;
        }
    }

    private void SimulatePointerExit()
    {
        if (_currentHoveredElement != null)
        {
            using (var evt = PointerLeaveEvent.GetPooled())
            {
                evt.target = _currentHoveredElement;
                _currentHoveredElement.SendEvent(evt);
            }
            _currentHoveredElement = null;
        }
    }

    private void OnSelectPerformed(InputAction.CallbackContext context)
    {
        if (_currentHoveredElement != null)
        {
            // Send click event
            using (var evt = ClickEvent.GetPooled())
            {
                evt.target = _currentHoveredElement;
                _currentHoveredElement.SendEvent(evt);
            }
        }
    }
}
</code></pre>
<hr />
<h2 id="6-theme-system">6. Theme System</h2>
<h3 id="61-dynamic-theme-switching">6.1 Dynamic Theme Switching</h3>
<p><strong>Example: ThemeManager.cs</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;
using System.Collections.Generic;

[System.Serializable]
public class ThemeColors
{
    public string themeName;
    public Color primaryColor;
    public Color secondaryColor;
    public Color backgroundColor;
    public Color glowColor1;
    public Color glowColor2;
}

public class ThemeManager : MonoBehaviour
{
    [SerializeField] private UIDocument _uiDocument;
    [SerializeField] private List&lt;ThemeColors&gt; _themes;
    [SerializeField] private int _currentThemeIndex = 0;

    private VisualElement _root;

    private void OnEnable()
    {
        _root = _uiDocument.rootVisualElement;
        ApplyTheme(_currentThemeIndex);
    }

    public void ApplyTheme(int themeIndex)
    {
        if (themeIndex &lt; 0 || themeIndex &gt;= _themes.Count)
            return;

        _currentThemeIndex = themeIndex;
        var theme = _themes[themeIndex];

        // Update CSS variables dynamically
        _root.style.SetCustomProperty(&quot;--primary-color&quot;, theme.primaryColor);
        _root.style.SetCustomProperty(&quot;--secondary-color&quot;, theme.secondaryColor);
        _root.style.SetCustomProperty(&quot;--bg-dark&quot;, theme.backgroundColor);
        _root.style.SetCustomProperty(&quot;--glow-color-1&quot;, theme.glowColor1);
        _root.style.SetCustomProperty(&quot;--glow-color-2&quot;, theme.glowColor2);
    }

    public void NextTheme()
    {
        int nextIndex = (_currentThemeIndex + 1) % _themes.Count;
        ApplyTheme(nextIndex);
    }

    public void SetThemeByName(string themeName)
    {
        int index = _themes.FindIndex(t =&gt; t.themeName == themeName);
        if (index &gt;= 0)
        {
            ApplyTheme(index);
        }
    }
}
</code></pre>
<h3 id="62-uss-variable-update">6.2 USS Variable Update</h3>
<p><strong>USS with Variables</strong></p>
<pre><code class="language-css">:root {
    --primary-color: rgb(138, 43, 226);
    --secondary-color: rgb(0, 217, 255);
    --bg-dark: rgb(10, 10, 15);
    --glow-color-1: rgba(138, 43, 226, 0.4);
    --glow-color-2: rgba(0, 217, 255, 0.3);
}

.themed-button {
    background-color: var(--primary-color);
    border-color: var(--secondary-color);
    transition-duration: 0.3s;
}

.themed-panel {
    background-image: 
        radial-gradient(at 30% 40%, var(--glow-color-1), transparent),
        radial-gradient(at 70% 60%, var(--glow-color-2), transparent),
        var(--bg-dark);
}
</code></pre>
<p><strong>Runtime Update Extension</strong></p>
<pre><code class="language-csharp">using UnityEngine.UIElements;

public static class StyleExtensions
{
    public static void SetCustomProperty(this IStyle style, string propertyName, Color value)
    {
        // Convert Color to CSS color string
        string colorString = $&quot;rgb({value.r * 255f}, {value.g * 255f}, {value.b * 255f})&quot;;

        // Update custom property
        // Note: This is a simplified example. Actual implementation may vary.
        style.backgroundColor = value; // Fallback
    }
}
</code></pre>
<hr />
<h2 id="7-input-system-integration">7. Input System Integration</h2>
<h3 id="71-new-input-system-setup">7.1 New Input System Setup</h3>
<p><strong>Example: UIInputHandler.cs</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;
using UnityEngine.InputSystem;

public class UIInputHandler : MonoBehaviour
{
    [SerializeField] private UIDocument _uiDocument;

    [Header(&quot;Input Actions&quot;)]
    [SerializeField] private InputActionReference _navigateAction;
    [SerializeField] private InputActionReference _submitAction;
    [SerializeField] private InputActionReference _cancelAction;

    private VisualElement _root;
    private Focusable _currentFocusedElement;

    private void OnEnable()
    {
        _root = _uiDocument.rootVisualElement;

        // Enable input actions
        _navigateAction.action.Enable();
        _submitAction.action.Enable();
        _cancelAction.action.Enable();

        // Register callbacks
        _navigateAction.action.performed += OnNavigate;
        _submitAction.action.performed += OnSubmit;
        _cancelAction.action.performed += OnCancel;

        // Set initial focus
        SetInitialFocus();
    }

    private void OnDisable()
    {
        // Unregister callbacks
        _navigateAction.action.performed -= OnNavigate;
        _submitAction.action.performed -= OnSubmit;
        _cancelAction.action.performed -= OnCancel;

        // Disable input actions
        _navigateAction.action.Disable();
        _submitAction.action.Disable();
        _cancelAction.action.Disable();
    }

    private void SetInitialFocus()
    {
        // Find first focusable element
        var focusable = _root.Q&lt;Button&gt;();
        if (focusable != null)
        {
            focusable.Focus();
            _currentFocusedElement = focusable;
        }
    }

    private void OnNavigate(InputAction.CallbackContext context)
    {
        Vector2 direction = context.ReadValue&lt;Vector2&gt;();

        if (Mathf.Abs(direction.y) &gt; Mathf.Abs(direction.x))
        {
            // Vertical navigation
            if (direction.y &gt; 0)
                NavigateUp();
            else
                NavigateDown();
        }
        else
        {
            // Horizontal navigation
            if (direction.x &gt; 0)
                NavigateRight();
            else
                NavigateLeft();
        }
    }

    private void OnSubmit(InputAction.CallbackContext context)
    {
        if (_currentFocusedElement is Button button)
        {
            // Simulate button click
            using (var evt = ClickEvent.GetPooled())
            {
                evt.target = button;
                button.SendEvent(evt);
            }
        }
    }

    private void OnCancel(InputAction.CallbackContext context)
    {
        // Handle back/cancel action
        Debug.Log(&quot;Cancel pressed&quot;);
    }

    private void NavigateUp()
    {
        // Implement focus navigation logic
        var focusController = _root.focusController;
        focusController.GetFocusableParentForPointerEvent(_currentFocusedElement as VisualElement, out Focusable next);
        if (next != null)
        {
            next.Focus();
            _currentFocusedElement = next;
        }
    }

    private void NavigateDown() { /* Similar to NavigateUp */ }
    private void NavigateLeft() { /* Similar to NavigateUp */ }
    private void NavigateRight() { /* Similar to NavigateUp */ }
}
</code></pre>
<h3 id="72-gamepadcontroller-navigation">7.2 Gamepad/Controller Navigation</h3>
<p><strong>USS for Focus States</strong></p>
<pre><code class="language-css">/* Focus indicator */
.menu-button:focus {
    border-color: var(--secondary-color);
    border-width: 3px;
    scale: 1.05;
}

/* Selected state */
.menu-button.selected {
    background-color: var(--primary-color);
}

/* Transition for smooth focus changes */
.menu-button {
    transition-property: border-color, border-width, scale;
    transition-duration: 0.2s;
}
</code></pre>
<hr />
<h2 id="8-performance-patterns">8. Performance Patterns</h2>
<h3 id="81-object-pooling-for-ui-elements">8.1 Object Pooling for UI Elements</h3>
<p><strong>Example: UI Element Pool</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;
using System.Collections.Generic;

public class UIElementPool&lt;T&gt; where T : VisualElement, new()
{
    private Stack&lt;T&gt; _pool = new Stack&lt;T&gt;();
    private VisualElement _container;

    public UIElementPool(VisualElement container, int initialSize = 10)
    {
        _container = container;

        // Pre-populate pool
        for (int i = 0; i &lt; initialSize; i++)
        {
            var element = CreateNewElement();
            element.style.display = DisplayStyle.None;
            _pool.Push(element);
        }
    }

    private T CreateNewElement()
    {
        var element = new T();
        _container.Add(element);
        return element;
    }

    public T Get()
    {
        T element;

        if (_pool.Count &gt; 0)
        {
            element = _pool.Pop();
        }
        else
        {
            element = CreateNewElement();
        }

        element.style.display = DisplayStyle.Flex;
        return element;
    }

    public void Return(T element)
    {
        element.style.display = DisplayStyle.None;
        _pool.Push(element);
    }
}

// Usage example
public class InventoryController : MonoBehaviour
{
    [SerializeField] private UIDocument _uiDocument;

    private VisualElement _itemContainer;
    private UIElementPool&lt;VisualElement&gt; _itemPool;

    private void OnEnable()
    {
        var root = _uiDocument.rootVisualElement;
        _itemContainer = root.Q&lt;VisualElement&gt;(&quot;ItemContainer&quot;);

        // Create pool
        _itemPool = new UIElementPool&lt;VisualElement&gt;(_itemContainer, 20);
    }

    public void DisplayItems(List&lt;string&gt; items)
    {
        // Return all items to pool first
        for (int i = _itemContainer.childCount - 1; i &gt;= 0; i--)
        {
            var child = _itemContainer[i] as VisualElement;
            if (child != null)
            {
                _itemPool.Return(child);
            }
        }

        // Get items from pool and populate
        foreach (var item in items)
        {
            var element = _itemPool.Get();
            var label = element.Q&lt;Label&gt;();
            if (label != null)
            {
                label.text = item;
            }
        }
    }
}
</code></pre>
<h3 id="82-uss-optimization-for-quest-2">8.2 USS Optimization for Quest 2</h3>
<p><strong>Performance-Optimized USS</strong></p>
<pre><code class="language-css">/* QUEST 2 OPTIMIZATION PATTERNS */

/* Use transform instead of position for animations (GPU accelerated) */
.animated-element {
    transition-property: translate, scale, rotate;
    transition-duration: 0.3s;
    translate: 0 0; /* Use translate instead of position */
}

/* Avoid expensive box-shadows on low-end hardware */
.no-shadow-mobile {
    /* box-shadow: 0 4px 8px rgba(0,0,0,0.2); */ /* Disabled */
}

/* Use simple gradients instead of complex multi-layer ones */
.optimized-gradient {
    background-image: linear-gradient(
        135deg,
        var(--glow-primary),
        var(--glow-secondary)
    );
    /* Instead of 3-4 layered radial gradients */
}

/* Reduce border-radius complexity */
.simple-corners {
    border-radius: 8px; /* Instead of 16px or per-corner values */
}

/* Disable transitions on low-end mode */
.performance-mode .menu-button {
    transition-duration: 0s;
}

/* Use opacity for show/hide instead of display */
.hidden-optimized {
    opacity: 0;
    /* visibility: hidden; */
    /* Instead of display: none which triggers layout */
}
</code></pre>
<h3 id="83-efficient-data-binding-updates">8.3 Efficient Data Binding Updates</h3>
<p><strong>Example: Batched Updates</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;
using System.Collections;

public class OptimizedDataUpdater : MonoBehaviour
{
    [SerializeField] private GameData _gameData;
    [SerializeField] private UIDocument _uiDocument;

    private SerializedObject _serializedObject;
    private Coroutine _updateCoroutine;

    private void OnEnable()
    {
        _serializedObject = new SerializedObject(_gameData);
        var root = _uiDocument.rootVisualElement;
        root.Bind(_serializedObject);

        // Start batched update coroutine
        _updateCoroutine = StartCoroutine(BatchedUpdateRoutine());
    }

    private void OnDisable()
    {
        if (_updateCoroutine != null)
        {
            StopCoroutine(_updateCoroutine);
        }
    }

    private IEnumerator BatchedUpdateRoutine()
    {
        // Update UI at lower frequency than game loop
        var wait = new WaitForSeconds(0.1f); // 10 updates per second

        while (true)
        {
            // Apply all pending changes at once
            _serializedObject.Update();

            yield return wait;
        }
    }
}
</code></pre>
<hr />
<h2 id="9-code-examples">9. Code Examples</h2>
<h3 id="91-complete-main-menu-implementation">9.1 Complete Main Menu Implementation</h3>
<p><strong>MainMenu.uxml</strong></p>
<pre><code class="language-xml">&lt;ui:UXML xmlns:ui=&quot;UnityEngine.UIElements&quot;&gt;
    &lt;Style src=&quot;MainMenu.uss&quot; /&gt;

    &lt;ui:VisualElement name=&quot;MainMenuRoot&quot; class=&quot;menu-container&quot;&gt;

        &lt;!-- Background with gradient --&gt;
        &lt;ui:VisualElement name=&quot;Background&quot; class=&quot;menu-background&quot; /&gt;

        &lt;!-- Content container --&gt;
        &lt;ui:VisualElement name=&quot;Content&quot; class=&quot;content-container&quot;&gt;

            &lt;!-- Title --&gt;
            &lt;ui:Label text=&quot;BAGEL GAME&quot; class=&quot;game-title&quot; /&gt;

            &lt;!-- Button group --&gt;
            &lt;ui:VisualElement name=&quot;ButtonGroup&quot; class=&quot;button-container&quot;&gt;
                &lt;ui:Button name=&quot;PlayButton&quot; text=&quot;PLAY&quot; class=&quot;menu-button primary-button&quot; /&gt;
                &lt;ui:Button name=&quot;OptionsButton&quot; text=&quot;OPTIONS&quot; class=&quot;menu-button&quot; /&gt;
                &lt;ui:Button name=&quot;CreditsButton&quot; text=&quot;CREDITS&quot; class=&quot;menu-button&quot; /&gt;
                &lt;ui:Button name=&quot;QuitButton&quot; text=&quot;QUIT&quot; class=&quot;menu-button&quot; /&gt;
            &lt;/ui:VisualElement&gt;

            &lt;!-- Version info --&gt;
            &lt;ui:Label name=&quot;VersionLabel&quot; text=&quot;v1.0.0&quot; class=&quot;version-text&quot; /&gt;

        &lt;/ui:VisualElement&gt;

    &lt;/ui:VisualElement&gt;
&lt;/ui:UXML&gt;
</code></pre>
<p><strong>MainMenu.uss</strong></p>
<pre><code class="language-css">/* ===== ROOT THEME ===== */
:root {
    --primary-purple: rgb(138, 43, 226);
    --secondary-cyan: rgb(0, 217, 255);
    --bg-dark: rgb(5, 5, 10);
    --bg-mid: rgb(15, 15, 25);

    --glow-purple: rgba(138, 43, 226, 0.5);
    --glow-cyan: rgba(0, 217, 255, 0.4);

    --transition-fast: 0.2s;
    --transition-normal: 0.3s;
}

/* ===== CONTAINERS ===== */
.menu-container {
    flex-grow: 1;
    width: 100%;
    height: 100%;
}

.menu-background {
    position: absolute;
    width: 100%;
    height: 100%;

    background-image: 
        radial-gradient(circle at 25% 35%, var(--glow-purple) 0%, transparent 55%),
        radial-gradient(circle at 75% 65%, var(--glow-cyan) 0%, transparent 55%),
        linear-gradient(180deg, var(--bg-mid) 0%, var(--bg-dark) 100%);
}

.content-container {
    flex-grow: 1;
    justify-content: center;
    align-items: center;
    padding: 40px;
}

/* ===== TYPOGRAPHY ===== */
.game-title {
    font-size: 96px;
    color: white;
    -unity-font-style: bold;
    -unity-text-align: middle-center;
    text-shadow: 0px 4px 30px var(--glow-cyan);
    margin-bottom: 60px;

    /* Letter spacing for modern look */
    letter-spacing: 8px;
}

.version-text {
    font-size: 14px;
    color: rgba(255, 255, 255, 0.4);
    -unity-text-align: middle-center;
    margin-top: 40px;
}

/* ===== BUTTONS ===== */
.button-container {
    align-items: center;
    gap: 16px;
}

.menu-button {
    min-width: 300px;
    min-height: 70px;

    /* Glass morphism */
    background-color: rgba(255, 255, 255, 0.03);
    border-width: 2px;
    border-color: rgba(255, 255, 255, 0.08);
    border-radius: 12px;

    /* Typography */
    font-size: 24px;
    color: white;
    -unity-font-style: bold;
    letter-spacing: 2px;

    /* Transitions */
    transition-property: background-color, border-color, scale, translate;
    transition-duration: var(--transition-normal);
}

.menu-button:hover {
    background-color: rgba(255, 255, 255, 0.1);
    border-color: var(--secondary-cyan);
    scale: 1.05 1.05;

    /* Subtle glow */
    box-shadow: 0px 0px 20px rgba(0, 217, 255, 0.3);
}

.menu-button:active {
    scale: 0.95 0.95;
    background-color: rgba(0, 217, 255, 0.15);
}

.menu-button:focus {
    border-color: var(--secondary-cyan);
    border-width: 3px;
}

/* Primary button variant */
.primary-button {
    background-color: var(--primary-purple);
    border-color: var(--primary-purple);
}

.primary-button:hover {
    background-color: rgba(138, 43, 226, 0.8);
    border-color: var(--secondary-cyan);
    box-shadow: 0px 0px 30px var(--glow-purple);
}
</code></pre>
<p><strong>MainMenuController.cs</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;
using UnityEngine.SceneManagement;

public class MainMenuController : MonoBehaviour
{
    [SerializeField] private UIDocument _uiDocument;
    [SerializeField] private AudioClip _hoverSound;
    [SerializeField] private AudioClip _clickSound;

    private VisualElement _root;
    private Button _playButton;
    private Button _optionsButton;
    private Button _creditsButton;
    private Button _quitButton;

    private void OnEnable()
    {
        _root = _uiDocument.rootVisualElement;

        // Query UI elements
        _playButton = _root.Q&lt;Button&gt;(&quot;PlayButton&quot;);
        _optionsButton = _root.Q&lt;Button&gt;(&quot;OptionsButton&quot;);
        _creditsButton = _root.Q&lt;Button&gt;(&quot;CreditsButton&quot;);
        _quitButton = _root.Q&lt;Button&gt;(&quot;QuitButton&quot;);

        // Register callbacks
        RegisterButtonEvents(_playButton, OnPlayClicked);
        RegisterButtonEvents(_optionsButton, OnOptionsClicked);
        RegisterButtonEvents(_creditsButton, OnCreditsClicked);
        RegisterButtonEvents(_quitButton, OnQuitClicked);
    }

    private void OnDisable()
    {
        // Unregister callbacks
        UnregisterButtonEvents(_playButton, OnPlayClicked);
        UnregisterButtonEvents(_optionsButton, OnOptionsClicked);
        UnregisterButtonEvents(_creditsButton, OnCreditsClicked);
        UnregisterButtonEvents(_quitButton, OnQuitClicked);
    }

    private void RegisterButtonEvents(Button button, System.Action callback)
    {
        if (button == null) return;

        button.clicked += callback;

        // Add hover sound
        button.RegisterCallback&lt;PointerEnterEvent&gt;(evt =&gt; PlaySound(_hoverSound));
    }

    private void UnregisterButtonEvents(Button button, System.Action callback)
    {
        if (button == null) return;

        button.clicked -= callback;
    }

    private void OnPlayClicked()
    {
        PlaySound(_clickSound);
        SceneManager.LoadScene(&quot;GameScene&quot;);
    }

    private void OnOptionsClicked()
    {
        PlaySound(_clickSound);
        Debug.Log(&quot;Options clicked - open settings panel&quot;);
    }

    private void OnCreditsClicked()
    {
        PlaySound(_clickSound);
        Debug.Log(&quot;Credits clicked - show credits&quot;);
    }

    private void OnQuitClicked()
    {
        PlaySound(_clickSound);

        #if UNITY_EDITOR
        UnityEditor.EditorApplication.isPlaying = false;
        #else
        Application.Quit();
        #endif
    }

    private void PlaySound(AudioClip clip)
    {
        if (clip != null)
        {
            AudioSource.PlayClipAtPoint(clip, Camera.main.transform.position, 0.5f);
        }
    }
}
</code></pre>
<h3 id="92-hud-with-live-data-binding">9.2 HUD with Live Data Binding</h3>
<p><strong>HUD.uxml</strong></p>
<pre><code class="language-xml">&lt;ui:UXML xmlns:ui=&quot;UnityEngine.UIElements&quot;&gt;
    &lt;Style src=&quot;HUD.uss&quot; /&gt;

    &lt;ui:VisualElement name=&quot;HUDRoot&quot; class=&quot;hud-container&quot;&gt;

        &lt;!-- Top bar --&gt;
        &lt;ui:VisualElement name=&quot;TopBar&quot; class=&quot;top-bar&quot;&gt;

            &lt;!-- Score --&gt;
            &lt;ui:VisualElement class=&quot;stat-group&quot;&gt;
                &lt;ui:Label text=&quot;SCORE&quot; class=&quot;stat-label&quot; /&gt;
                &lt;ui:Label name=&quot;ScoreValue&quot; 
                         binding-path=&quot;CurrentScore&quot; 
                         class=&quot;stat-value&quot; /&gt;
            &lt;/ui:VisualElement&gt;

            &lt;!-- Toppings --&gt;
            &lt;ui:VisualElement class=&quot;stat-group&quot;&gt;
                &lt;ui:Label text=&quot;TOPPINGS&quot; class=&quot;stat-label&quot; /&gt;
                &lt;ui:Label name=&quot;ToppingsValue&quot; 
                         binding-path=&quot;ToppingsRemaining&quot; 
                         class=&quot;stat-value&quot; /&gt;
            &lt;/ui:VisualElement&gt;

            &lt;!-- Timer --&gt;
            &lt;ui:VisualElement class=&quot;stat-group&quot;&gt;
                &lt;ui:Label text=&quot;TIME&quot; class=&quot;stat-label&quot; /&gt;
                &lt;ui:Label name=&quot;TimeValue&quot; 
                         binding-path=&quot;TimeRemaining&quot; 
                         class=&quot;stat-value&quot; /&gt;
            &lt;/ui:VisualElement&gt;

        &lt;/ui:VisualElement&gt;

        &lt;!-- Health bar --&gt;
        &lt;ui:VisualElement name=&quot;HealthContainer&quot; class=&quot;health-container&quot;&gt;
            &lt;ui:ProgressBar name=&quot;HealthBar&quot; 
                           binding-path=&quot;Health&quot;
                           low-value=&quot;0&quot; 
                           high-value=&quot;100&quot;
                           class=&quot;health-bar&quot; /&gt;
        &lt;/ui:VisualElement&gt;

    &lt;/ui:VisualElement&gt;
&lt;/ui:UXML&gt;
</code></pre>
<p><strong>HUD.uss</strong></p>
<pre><code class="language-css">:root {
    --health-high: rgb(76, 217, 100);
    --health-medium: rgb(255, 204, 0);
    --health-low: rgb(255, 59, 48);
    --stat-text: rgb(0, 217, 255);
}

.hud-container {
    position: absolute;
    width: 100%;
    height: 100%;
    padding: 20px;
    pointer-events: none; /* Allow clicks to pass through */
}

.top-bar {
    flex-direction: row;
    justify-content: space-between;
    padding: 20px;

    background-color: rgba(0, 0, 0, 0.4);
    border-radius: 12px;
    border-width: 1px;
    border-color: rgba(255, 255, 255, 0.1);
}

.stat-group {
    align-items: center;
}

.stat-label {
    font-size: 14px;
    color: rgba(255, 255, 255, 0.6);
    margin-bottom: 4px;
    letter-spacing: 1px;
}

.stat-value {
    font-size: 32px;
    color: var(--stat-text);
    -unity-font-style: bold;
}

/* Health bar */
.health-container {
    position: absolute;
    bottom: 40px;
    left: 50%;
    translate: -50% 0;
    width: 400px;
}

.health-bar {
    height: 30px;
    border-radius: 15px;
    background-color: rgba(0, 0, 0, 0.5);
    border-width: 2px;
    border-color: rgba(255, 255, 255, 0.2);
}

.health-bar &gt; #unity-progress-bar {
    background-color: var(--health-high);
    border-radius: 13px;
    margin: 2px;
}

/* Dynamic health color (set via C#) */
.health-bar.low &gt; #unity-progress-bar {
    background-color: var(--health-low);
}

.health-bar.medium &gt; #unity-progress-bar {
    background-color: var(--health-medium);
}
</code></pre>
<p><strong>HUDController.cs</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;

public class HUDController : MonoBehaviour
{
    [SerializeField] private UIDocument _uiDocument;
    [SerializeField] private GameData _gameData;

    private VisualElement _root;
    private Label _scoreValue;
    private Label _toppingsValue;
    private Label _timeValue;
    private ProgressBar _healthBar;

    private SerializedObject _serializedGameData;

    private void OnEnable()
    {
        _root = _uiDocument.rootVisualElement;

        // Query elements
        _scoreValue = _root.Q&lt;Label&gt;(&quot;ScoreValue&quot;);
        _toppingsValue = _root.Q&lt;Label&gt;(&quot;ToppingsValue&quot;);
        _timeValue = _root.Q&lt;Label&gt;(&quot;TimeValue&quot;);
        _healthBar = _root.Q&lt;ProgressBar&gt;(&quot;HealthBar&quot;);

        // Setup data binding
        SetupBinding();

        // Setup custom formatters
        SetupCustomFormatters();
    }

    private void SetupBinding()
    {
        _serializedGameData = new SerializedObject(_gameData);
        _root.Bind(_serializedGameData);
    }

    private void SetupCustomFormatters()
    {
        // Custom score formatter
        _root.TrackPropertyValue(
            _serializedGameData.FindProperty(&quot;_currentScore&quot;),
            property =&gt; {
                _scoreValue.text = $&quot;{_gameData.CurrentScore:N0}&quot;;
            }
        );

        // Custom time formatter (MM:SS)
        _root.TrackPropertyValue(
            _serializedGameData.FindProperty(&quot;_timeRemaining&quot;),
            property =&gt; {
                int minutes = Mathf.FloorToInt(_gameData.TimeRemaining / 60f);
                int seconds = Mathf.FloorToInt(_gameData.TimeRemaining % 60f);
                _timeValue.text = $&quot;{minutes:00}:{seconds:00}&quot;;
            }
        );

        // Health color update
        _root.TrackPropertyValue(
            _serializedGameData.FindProperty(&quot;_health&quot;),
            property =&gt; {
                UpdateHealthColor(_gameData.Health);
            }
        );
    }

    private void UpdateHealthColor(float health)
    {
        // Remove all health classes
        _healthBar.RemoveFromClassList(&quot;low&quot;);
        _healthBar.RemoveFromClassList(&quot;medium&quot;);

        // Add appropriate class
        if (health &lt; 30f)
            _healthBar.AddToClassList(&quot;low&quot;);
        else if (health &lt; 60f)
            _healthBar.AddToClassList(&quot;medium&quot;);
    }
}
</code></pre>
<hr />
<h2 id="10-quest-2-vr-adaptation">10. Quest 2 VR Adaptation</h2>
<h3 id="key-considerations-for-quest-2">Key Considerations for Quest 2</h3>
<ol>
<li><strong>Performance Budget</strong>: Target 72-90 Hz</li>
<li><strong>Resolution</strong>: 1832x1920 per eye</li>
<li><strong>GPU</strong>: Mobile GPU - avoid heavy effects</li>
<li><strong>Input</strong>: Controller rays + hand tracking</li>
</ol>
<h3 id="optimized-vr-ui-setup">Optimized VR UI Setup</h3>
<p><strong>VRUIManager.cs</strong></p>
<pre><code class="language-csharp">using UnityEngine;
using UnityEngine.UIElements;

public class VRUIManager : MonoBehaviour
{
    [Header(&quot;References&quot;)]
    [SerializeField] private UIDocument _uiDocument;
    [SerializeField] private Camera _centerEyeCamera;

    [Header(&quot;VR Settings&quot;)]
    [SerializeField] private float _uiDistance = 2.5f;
    [SerializeField] private float _pixelsPerMeter = 1000f;
    [SerializeField] private Vector2 _panelSize = new Vector2(1.5f, 1.0f); // meters

    [Header(&quot;Performance&quot;)]
    [SerializeField] private int _targetFrameRate = 90;
    [SerializeField] private bool _usePerformanceMode = true;

    private PanelSettings _panelSettings;
    private RenderTexture _uiRenderTexture;

    private void Awake()
    {
        // Set target frame rate for Quest 2
        Application.targetFrameRate = _targetFrameRate;

        // Setup VR UI
        SetupVRPanel();

        // Apply performance optimizations
        if (_usePerformanceMode)
        {
            ApplyPerformanceOptimizations();
        }
    }

    private void SetupVRPanel()
    {
        // Calculate resolution based on panel size and pixels per meter
        int width = Mathf.RoundToInt(_panelSize.x * _pixelsPerMeter);
        int height = Mathf.RoundToInt(_panelSize.y * _pixelsPerMeter);

        // Create render texture
        _uiRenderTexture = new RenderTexture(width, height, 0, RenderTextureFormat.ARGB32);
        _uiRenderTexture.Create();

        // Create panel settings
        _panelSettings = ScriptableObject.CreateInstance&lt;PanelSettings&gt;();
        _panelSettings.targetTexture = _uiRenderTexture;
        _panelSettings.clearColor = Color.clear;
        _panelSettings.scaleMode = PanelScaleMode.ScaleWithScreenSize;

        _uiDocument.panelSettings = _panelSettings;
    }

    private void ApplyPerformanceOptimizations()
    {
        var root = _uiDocument.rootVisualElement;

        // Add performance mode class to disable expensive effects
        root.AddToClassList(&quot;performance-mode&quot;);

        // Disable antialiasing for better performance
        _uiRenderTexture.antiAliasing = 1;
    }
}
</code></pre>
<h3 id="performance-optimized-uss-for-quest-2">Performance-Optimized USS for Quest 2</h3>
<pre><code class="language-css">/* Quest 2 Performance Mode */
.performance-mode {
    /* Disable all transitions */
    * {
        transition-duration: 0s !important;
    }
}

/* Simplified gradients for mobile GPU */
.vr-background {
    background-image: linear-gradient(
        135deg,
        rgba(138, 43, 226, 0.3),
        rgba(0, 217, 255, 0.2)
    );
    /* Single gradient instead of multiple layered radials */
}

/* Reduce border complexity */
.vr-button {
    border-radius: 8px; /* Simpler than 12-16px */
    border-width: 2px;
}

/* No shadows in VR mode */
.vr-panel {
    /* box-shadow: none; */
}
</code></pre>
<hr />
<h2 id="summary-best-practices">Summary &amp; Best Practices</h2>
<h3 id="architecture-takeaways">Architecture Takeaways</h3>
<ol>
<li><strong>Separation of Concerns</strong>:</li>
<li>UXML = Structure</li>
<li>USS = Styling</li>
<li>
<p>C# = Logic &amp; Data</p>
</li>
<li>
<p><strong>Data Binding</strong>: Use Unity 6's SerializedObject binding for automatic UI updates</p>
</li>
<li>
<p><strong>World Space UI</strong>: Render to texture, display on quad in 3D space</p>
</li>
<li>
<p><strong>Themes</strong>: CSS variables + runtime updates for dynamic theming</p>
</li>
<li>
<p><strong>Shader Graph</strong>: Apply sparingly for premium effects (glass, glow)</p>
</li>
</ol>
<h3 id="quest-2-optimization-checklist">Quest 2 Optimization Checklist</h3>
<ul>
<li>✅ Target 90 Hz, accept 72 Hz minimum</li>
<li>✅ Use simple gradients (linear &gt; radial)</li>
<li>✅ Disable transitions in performance mode</li>
<li>✅ Pool UI elements for dynamic content</li>
<li>✅ Batch data updates (10-30 Hz)</li>
<li>✅ Simple border-radius values</li>
<li>✅ No box-shadows</li>
<li>✅ Anti-aliasing: 1x or off</li>
</ul>
<hr />
<h2 id="resources">Resources</h2>
<ul>
<li><strong>Bagel Game Repo</strong>: https://github.com/Unity-Technologies/BagelGame</li>
<li><strong>UI Toolkit Manual</strong>: https://docs.unity3d.com/Manual/UIElements.html</li>
<li><strong>Shader Graph Samples</strong>: Package Manager → Shader Graph → Samples</li>
<li><strong>Unity Input System</strong>: https://docs.unity3d.com/Packages/com.unity.inputsystem@latest</li>
</ul>
<hr />
<p><em>This analysis provides a comprehensive foundation for building UI Toolkit systems inspired by Bagel Game patterns, optimized for Quest 2 VR deployment.</em></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.top", "navigation.tracking", "navigation.sections", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>